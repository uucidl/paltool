struct TerminationTask
{
    task: Task;
}

func termination_task_create(task: TerminationTask*)
{
    *task = {};
    task.task = create_task(_termination_task, NULL);
}

func termination_task_wait_for(task: TerminationTask*)
{
    while (true) {}
    #assert(false); // @todo implement termination task on osx
}

// @type_erasure: data: CONDITION_VARIABLE*
func _termination_task(data: void*)
{
   libc.printf("*** ALL DONE ***\n");
}
